<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TTS - Text to Speech Pro</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <!-- Animated background -->
    <div class="bg-gradient"></div>
    <div class="bg-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
    </div>

    <div class="container">
        <!-- Header -->
        <header class="glass-header">
            <div class="header-content">
                <div class="logo-section">
                    <svg class="logo-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"></path>
                        <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                        <line x1="12" x2="12" y1="19" y2="22"></line>
                    </svg>
                    <h1>Text to Speech Pro</h1>
                </div>
                <p class="subtitle">Chuyển văn bản thành giọng nói chất lượng cao</p>
            </div>
        </header>

        <main>
            <!-- Voice selector -->
            <div class="section-label">
                <svg class="label-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"></path>
                    <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                </svg>
                <span>Chọn giọng nói</span>
            </div>

            <div class="voice-selector glass-card">
                <div class="voice-grid" id="voiceGrid">
                    <!-- Voices will be populated by JavaScript -->
                </div>
            </div>

            <!-- File upload section -->
            <div class="section-label">
                <svg class="label-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                    <polyline points="14 2 14 8 20 8"></polyline>
                </svg>
                <span>Hoặc upload file</span>
            </div>

            <div class="upload-section glass-card">
                <div class="upload-zone" id="uploadZone">
                    <svg class="upload-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="17 8 12 3 7 8"></polyline>
                        <line x1="12" x2="12" y1="3" y2="15"></line>
                    </svg>
                    <p class="upload-text">Kéo thả file hoặc <span class="upload-link">chọn file</span></p>
                    <p class="upload-hint">Hỗ trợ: TXT, PDF, DOCX, XLSX (max 16MB)</p>
                    <input type="file" id="fileInput" accept=".txt,.pdf,.docx,.doc,.xlsx,.xls" hidden>
                </div>
                <div id="fileInfo" class="file-info hidden">
                    <div class="file-details">
                        <svg class="file-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                        </svg>
                        <div class="file-text">
                            <p class="file-name" id="fileName"></p>
                            <p class="file-size" id="fileSize"></p>
                        </div>
                    </div>
                    <button id="removeFileBtn" class="btn-remove">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Text input section -->
            <div class="section-label">
                <svg class="label-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path>
                    <path d="M22 12A10 10 0 0 0 12 2v10z"></path>
                </svg>
                <span>Văn bản</span>
            </div>

            <div class="input-section glass-card">
                <textarea
                    id="textInput"
                    placeholder="Nhập hoặc dán văn bản cần chuyển thành giọng nói tại đây..."
                    rows="8"
                ></textarea>
                <div class="char-count">
                    <svg class="count-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect width="18" height="18" x="3" y="3" rx="2"></rect>
                        <path d="M7 7h10"></path>
                        <path d="M7 12h10"></path>
                        <path d="M7 17h6"></path>
                    </svg>
                    <span id="charCount">0</span> / 100,000 ký tự
                </div>
            </div>

            <!-- Controls -->
            <div class="controls">
                <button id="speakBtn" class="btn btn-primary">
                    <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="17 8 12 3 7 8"></polyline>
                        <line x1="12" x2="12" y1="3" y2="15"></line>
                    </svg>
                    <span>Xuất đoạn ghi âm</span>
                </button>
                <button id="clearBtn" class="btn btn-secondary">
                    <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 6h18"></path>
                        <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path>
                        <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path>
                    </svg>
                    <span>Xóa</span>
                </button>
            </div>

            <!-- Loading indicator -->
            <div id="loading" class="loading glass-card hidden">
                <div class="spinner"></div>
                <p>Đang xử lý văn bản...</p>
            </div>

            <!-- Message -->
            <div id="message" class="message hidden"></div>

            <!-- Audio player -->
            <div id="audioPlayer" class="audio-player glass-card hidden">
                <div class="audio-header">
                    <svg class="audio-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 18V5l12-2v13"></path>
                        <circle cx="6" cy="18" r="3"></circle>
                        <circle cx="18" cy="16" r="3"></circle>
                    </svg>
                    <h3>Audio đã tạo thành công</h3>
                </div>
                <audio id="audio" controls></audio>
                <button id="downloadBtn" class="btn btn-download">
                    <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" x2="12" y1="15" y2="3"></line>
                    </svg>
                    <span>Tải xuống MP3</span>
                </button>
            </div>
        </main>

        <!-- Footer -->
        <footer>
            <div class="footer-content">
                <p>Powered by ElevenLabs Turbo V2.5 - Optimized for Vietnamese</p>
                <div class="footer-links">
                    <span>Made with</span>
                    <svg class="heart-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                    </svg>
                    <span>by AI Hub Vietnam</span>
                </div>
            </div>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='app.js') }}"></script>
</body>
</html>
